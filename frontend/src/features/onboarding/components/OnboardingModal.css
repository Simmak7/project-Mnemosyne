/* ============================================
   Onboarding Tutorial Modal
   Full-screen wizard using Neural Glass tokens
   ============================================ */

/* ----------------------------------------
   Overlay
   ---------------------------------------- */
.onboarding-overlay {
  position: fixed;
  inset: 0;
  z-index: var(--ng-z-modal);
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(var(--ng-blur-lg));
  -webkit-backdrop-filter: blur(var(--ng-blur-lg));
  animation: ng-fade-in var(--ng-duration-slow) var(--ng-ease-out) forwards;
}

[data-theme="light"] .onboarding-overlay {
  background: rgba(0, 0, 0, 0.4);
}

/* ----------------------------------------
   Modal Container
   ---------------------------------------- */
.onboarding-modal {
  position: relative;
  width: 92vw;
  max-width: 620px;
  max-height: 88vh;
  display: flex;
  flex-direction: column;
  background: var(--ng-glass-bg-solid);
  backdrop-filter: blur(var(--ng-blur-xl));
  -webkit-backdrop-filter: blur(var(--ng-blur-xl));
  border: 1px solid var(--ng-glass-border);
  border-radius: var(--ng-radius-2xl);
  box-shadow: var(--ng-shadow-2xl);
  overflow: hidden;
  animation: ng-scale-in var(--ng-duration-slow) var(--ng-ease-out) forwards;
}

/* ----------------------------------------
   Header (skip button)
   ---------------------------------------- */
.onboarding-header {
  display: flex;
  justify-content: flex-end;
  padding: var(--ng-space-4) var(--ng-space-6) 0;
  flex-shrink: 0;
}

.onboarding-skip {
  background: none;
  border: 1px solid var(--ng-glass-border);
  border-radius: var(--ng-radius-full);
  color: var(--ng-text-tertiary);
  font-family: var(--ng-font-ui, Inter, sans-serif);
  font-size: 13px;
  padding: var(--ng-space-1-5) var(--ng-space-4);
  cursor: pointer;
  transition: all var(--ng-transition-fast);
}

.onboarding-skip:hover {
  color: var(--ng-text-primary);
  border-color: var(--ng-glass-border-hover);
  background: var(--ng-glass-bg-hover);
}

/* ----------------------------------------
   Content Area (animated)
   ---------------------------------------- */
.onboarding-content {
  flex: 1;
  overflow-y: auto;
  padding: var(--ng-space-6) var(--ng-space-8) var(--ng-space-4);
  min-height: 320px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.onboarding-step-wrapper {
  width: 100%;
}

.onboarding-step-wrapper.slide-forward {
  animation: ng-slide-in-right var(--ng-duration-slow) var(--ng-ease-out) forwards;
}

.onboarding-step-wrapper.slide-back {
  animation: ng-slide-in-left var(--ng-duration-slow) var(--ng-ease-out) forwards;
}

/* ----------------------------------------
   Footer (indicator + nav buttons)
   ---------------------------------------- */
.onboarding-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--ng-space-4) var(--ng-space-6) var(--ng-space-6);
  border-top: 1px solid var(--ng-glass-border-subtle);
  flex-shrink: 0;
  gap: var(--ng-space-4);
}

.onboarding-nav {
  display: flex;
  gap: var(--ng-space-3);
  flex-shrink: 0;
}

/* ----------------------------------------
   Buttons
   ---------------------------------------- */
.onboarding-btn {
  display: inline-flex;
  align-items: center;
  gap: var(--ng-space-2);
  padding: var(--ng-space-2-5) var(--ng-space-5);
  border-radius: var(--ng-radius-lg);
  font-family: var(--ng-font-ui, Inter, sans-serif);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all var(--ng-transition-fast);
  border: none;
}

.onboarding-btn-secondary {
  background: var(--ng-glass-bg);
  color: var(--ng-text-secondary);
  border: 1px solid var(--ng-glass-border);
}

.onboarding-btn-secondary:hover {
  background: var(--ng-glass-bg-hover);
  color: var(--ng-text-primary);
  border-color: var(--ng-glass-border-hover);
}

.onboarding-btn-primary {
  background: var(--ng-accent-ai);
  color: #fff;
  border: none;
}

.onboarding-btn-primary:hover {
  filter: brightness(1.15);
  transform: translateY(-1px);
}

.onboarding-btn-primary:active {
  transform: translateY(0);
}

.onboarding-btn-cta {
  margin-top: var(--ng-space-6);
  padding: var(--ng-space-3) var(--ng-space-8);
  font-size: 15px;
  border-radius: var(--ng-radius-xl);
}

/* ----------------------------------------
   Step Indicator
   ---------------------------------------- */
.onboarding-indicator {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--ng-space-1-5);
  min-width: 0;
  flex: 1;
}

.onboarding-dots {
  display: flex;
  gap: var(--ng-space-1-5);
  flex-wrap: wrap;
  justify-content: center;
}

.onboarding-dot {
  width: 8px;
  height: 8px;
  border-radius: var(--ng-radius-full);
  border: none;
  padding: 0;
  cursor: default;
  background: var(--ng-charcoal-500);
  transition: all var(--ng-transition-fast);
}

.onboarding-dot.completed {
  background: var(--ng-accent-ai-glow);
}

.onboarding-dot.active {
  width: 24px;
  border-radius: var(--ng-radius-full);
  background: var(--ng-accent-ai);
}

.onboarding-step-label {
  font-size: 11px;
  color: var(--ng-text-muted);
  font-family: var(--ng-font-ui, Inter, sans-serif);
}

/* ----------------------------------------
   Welcome Step
   ---------------------------------------- */
.onboarding-welcome {
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.onboarding-welcome-logo {
  position: relative;
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: var(--ng-space-6);
}

.onboarding-logo-glow {
  position: absolute;
  inset: -12px;
  border-radius: var(--ng-radius-full);
  background: conic-gradient(
    from 0deg,
    var(--ng-accent-ai-glow),
    var(--ng-accent-image-glow),
    var(--ng-accent-note-glow),
    var(--ng-accent-link-glow),
    var(--ng-accent-ai-glow)
  );
  filter: blur(20px);
  opacity: 0.6;
  animation: ng-spin 8s linear infinite;
}

.onboarding-logo-letter {
  position: relative;
  font-size: 36px;
  font-weight: 700;
  font-family: var(--ng-font-ui, Inter, sans-serif);
  background: linear-gradient(
    135deg,
    var(--ng-accent-ai) 0%,
    var(--ng-accent-image) 50%,
    var(--ng-accent-link) 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.onboarding-welcome-title {
  font-size: 28px;
  font-weight: 700;
  color: var(--ng-text-primary);
  margin: 0 0 var(--ng-space-2);
  font-family: var(--ng-font-ui, Inter, sans-serif);
}

.onboarding-welcome-subtitle {
  font-size: 16px;
  color: var(--ng-accent-ai);
  margin: 0 0 var(--ng-space-5);
  font-weight: 500;
}

.onboarding-welcome-divider {
  width: 48px;
  height: 2px;
  background: linear-gradient(
    90deg,
    var(--ng-accent-ai),
    var(--ng-accent-image)
  );
  border-radius: var(--ng-radius-full);
  margin-bottom: var(--ng-space-5);
}

.onboarding-welcome-desc {
  font-size: 14px;
  color: var(--ng-text-secondary);
  line-height: 1.6;
  max-width: 440px;
  margin: 0;
}

.onboarding-welcome-hint {
  display: flex;
  align-items: center;
  gap: var(--ng-space-2);
  margin-top: var(--ng-space-6);
  font-size: 12px;
  color: var(--ng-text-muted);
}

.onboarding-hint-icon {
  display: flex;
  color: var(--ng-accent-ai);
}

/* ----------------------------------------
   Feature Step
   ---------------------------------------- */
.onboarding-feature {
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.onboarding-feature-icon {
  position: relative;
  width: 64px;
  height: 64px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--ng-radius-2xl);
  margin-bottom: var(--ng-space-5);
}

.onboarding-icon-glow {
  position: absolute;
  inset: -8px;
  border-radius: var(--ng-radius-2xl);
  filter: blur(16px);
  opacity: 0.5;
}

.onboarding-feature-icon svg {
  position: relative;
  z-index: 1;
}

/* Accent variants */
.onboarding-feature-icon.accent-ai {
  background: var(--ng-accent-ai-bg);
  color: var(--ng-accent-ai);
}
.onboarding-feature-icon.accent-ai .onboarding-icon-glow {
  background: var(--ng-accent-ai-glow);
}

.onboarding-feature-icon.accent-image {
  background: var(--ng-accent-image-bg);
  color: var(--ng-accent-image);
}
.onboarding-feature-icon.accent-image .onboarding-icon-glow {
  background: var(--ng-accent-image-glow);
}

.onboarding-feature-icon.accent-note {
  background: var(--ng-accent-note-bg);
  color: var(--ng-accent-note);
}
.onboarding-feature-icon.accent-note .onboarding-icon-glow {
  background: var(--ng-accent-note-glow);
}

.onboarding-feature-icon.accent-link {
  background: var(--ng-accent-link-bg);
  color: var(--ng-accent-link);
}
.onboarding-feature-icon.accent-link .onboarding-icon-glow {
  background: var(--ng-accent-link-glow);
}

.onboarding-feature-title {
  font-size: 24px;
  font-weight: 700;
  color: var(--ng-text-primary);
  margin: 0 0 var(--ng-space-3);
  font-family: var(--ng-font-ui, Inter, sans-serif);
}

.onboarding-feature-desc {
  font-size: 14px;
  color: var(--ng-text-secondary);
  line-height: 1.6;
  max-width: 460px;
  margin: 0;
}

/* Tips list */
.onboarding-tips {
  list-style: none;
  padding: 0;
  margin: var(--ng-space-5) 0 0;
  display: flex;
  flex-direction: column;
  gap: var(--ng-space-2-5);
  text-align: left;
  max-width: 440px;
  width: 100%;
}

.onboarding-tip {
  display: flex;
  align-items: flex-start;
  gap: var(--ng-space-3);
  font-size: 13px;
  color: var(--ng-text-tertiary);
  line-height: 1.5;
}

.onboarding-tip-bullet {
  flex-shrink: 0;
  width: 6px;
  height: 6px;
  border-radius: var(--ng-radius-full);
  margin-top: 6px;
}

/* Tip bullet color matches parent accent */
[data-accent="ai"] .onboarding-tip-bullet { background: var(--ng-accent-ai); }
[data-accent="image"] .onboarding-tip-bullet { background: var(--ng-accent-image); }
[data-accent="note"] .onboarding-tip-bullet { background: var(--ng-accent-note); }
[data-accent="link"] .onboarding-tip-bullet { background: var(--ng-accent-link); }

/* ----------------------------------------
   Completion Step
   ---------------------------------------- */
.onboarding-completion {
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.onboarding-completion-icon {
  position: relative;
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: var(--ng-space-6);
  color: var(--ng-success);
}

.onboarding-completion-glow {
  position: absolute;
  inset: -12px;
  border-radius: var(--ng-radius-full);
  background: conic-gradient(
    from 120deg,
    var(--ng-accent-link-glow),
    var(--ng-accent-ai-glow),
    var(--ng-accent-image-glow),
    var(--ng-accent-link-glow)
  );
  filter: blur(20px);
  opacity: 0.5;
}

.onboarding-completion-icon svg {
  position: relative;
  z-index: 1;
}

.onboarding-completion-title {
  font-size: 28px;
  font-weight: 700;
  color: var(--ng-text-primary);
  margin: 0 0 var(--ng-space-3);
  font-family: var(--ng-font-ui, Inter, sans-serif);
}

.onboarding-completion-desc {
  font-size: 14px;
  color: var(--ng-text-secondary);
  line-height: 1.6;
  max-width: 420px;
  margin: 0;
}

.onboarding-arrow {
  transition: transform var(--ng-transition-fast);
}

.onboarding-btn-cta:hover .onboarding-arrow {
  transform: translateX(3px);
}

/* ----------------------------------------
   Responsive
   ---------------------------------------- */
@media (max-width: 600px) {
  .onboarding-modal {
    width: 96vw;
    max-height: 94vh;
    border-radius: var(--ng-radius-xl);
  }

  .onboarding-content {
    padding: var(--ng-space-4) var(--ng-space-5) var(--ng-space-3);
    min-height: 280px;
  }

  .onboarding-welcome-title,
  .onboarding-completion-title {
    font-size: 22px;
  }

  .onboarding-feature-title {
    font-size: 20px;
  }

  .onboarding-footer {
    flex-direction: column;
    gap: var(--ng-space-3);
  }
}
